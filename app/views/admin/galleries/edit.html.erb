<h1>Edit Gallery</h1>

<%# This renders the *exact same form* we used for "new" %>
<%= render "form" %>

<hr>
<h2>Manage Photos</h2>
<div class="admin-photo-list">
  <% @photos.each do |photo| %>
  <div class="admin-photo-item">
    <% if photo.image.attached? %>
      <%= image_tag photo.image.variant(resize_to_limit: [150, 150]) %>
    <% end %>
    <span><%= photo.title %></span>

    <%= link_to "Delete", 
      admin_gallery_photo_path(@gallery, photo),
      data: {
        turbo_method: :delete,
        turbo_confirm: "Are you sure you want to delete this photo?"
      } %>
  </div>
  <% end %>
</div>

<hr>
<%= link_to "Back to galleries", admin_galleries_path %>